var Mynix_PayPal=(function(c,f,h){var a=null;var e=function(l){var m={billing_first_name:"firstName",billing_last_name:"lastName",billing_address_1:{shippingAddress:"streetAddress"},billing_address_2:{shippingAddress:"extendedAddress"},billing_city:{shippingAddress:"locality"},billing_country:{shippingAddress:"countryCodeAlpha"},billing_postcode:{shippingAddress:"postalCode"},billing_state:{shippingAddress:"region"},billing_phone:"phone",billing_email:"email"};for(var k in m){if(m.hasOwnProperty(k)&&l.hasOwnProperty(m[k])){if(Object.prototype.toString.call(m[k])==="[object Object]"){for(var j in m[k]){if(m[k].hasOwnProperty(j)&&l[m[k]].hasOwnProperty(j)){c("#"+k).val(l[m[k]][j])}}}else{c("#"+k).val(l[m[k]])}}}};var g=function(){var n={recipientName:["billing_first_name","billing_last_name"],streetAddress:"billing_address_1",extendedAddress:"billing_address_2",locality:"billing_city",countryCodeAlpha2:"billing_country",postalCode:"billing_postcode",region:"billing_state",phone:"billing_phone"};var m={};for(var l in n){if(Object.prototype.toString.call(n[l])==="[object Array]"){var j=[];for(var k=0;k<n[l].length;k+=1){j.push(c("#"+n[l][k]).val())}m[l]=j.join(" ")}else{m[l]=c("#"+n[l]).val()}}return m};var d=function(l,j,k){var i=setInterval(function(){if(c("#"+j).length){clearInterval(i);var p=f.getSubmitFunction(l,false),o,n,m="payment_method_nonce";o="undefined"!=typeof wc_mynix_params.integration_container&&wc_mynix_params.integration_container.length?wc_mynix_params.integration_container:false;n={token:l,container:j,singleUse:"undefined"!=typeof wc_mynix_params.paypal_flow?wc_mynix_params.paypal_flow:false,amount:c("#"+h+"-order-amount").val(),currency:wc_mynix_params.currency,locale:wc_mynix_params.paypal_locale,onPaymentMethodReceived:function(q){if(o){c("#"+o).hide("slow");if("undefined"==typeof wc_mynix_params.paypal_opacity||wc_mynix_params.paypal_opacity){c("#"+j).parent().toggleClass("has-paypal")}}if("custom"==f.get_integration_type()&&"undefined"!=typeof Mynix_Custom_UI){Mynix_Custom_UI.toggle_card("paypal")}if(!c('input[name="'+m+'"]').length){c("<input>").attr({type:"hidden",id:m,name:m,value:q.nonce}).appendTo("form.checkout,form#order_review")}if("undefined"!=typeof q.details){e(q.details)}f.paypal_button=true},onUnsupported:function(){f.mynixShowError("Your browser does not support this payment method.")},onCancelled:function(){f.paypal_button=false;c('input[name="'+m+'"]').val("");if(o){if("undefined"==typeof wc_mynix_params.paypal_opacity||wc_mynix_params.paypal_opacity){c("#"+j).parent().toggleClass("has-paypal")}c("#"+o).show("slow",function(){f.mynixShowError("The choosen payment method was canceled by user intervention.")})}if("custom"==f.get_integration_type()&&"undefined"!=typeof Mynix_Custom_UI){Mynix_Custom_UI.toggle_card()}},onReady:function(q){a=q;c("#"+j).parent().find("label").css("display","inherit");("function"==typeof k)&&k()}};if("undefined"!=typeof wc_mynix_params.paypal_displayName&&wc_mynix_params.paypal_displayName.length){n.displayName=wc_mynix_params.paypal_displayName}if("undefined"==typeof wc_mynix_params.disable_shippingAddressOverride||!wc_mynix_params.disable_shippingAddressOverride){n.shippingAddressOverride=g();n.shippingAddressOverride.editable=true;n.shippingAddressOverride.type=c("#billing_company").val().length?"business":"residential"}f.init(n,"paypal")}},1000)};var b=function(){a&&a.teardown(function(){a=null})};return{init:d,set_fields:e,get_fields:g,teardown:b}})(jQuery,Mynix_Gateway,"woo-mynix-braintree-gateway");